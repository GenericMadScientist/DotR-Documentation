<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Duelists of the Roses: szduel.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Duelists of the Roses
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">szduel.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="structs_8h_source.html">structs.h</a>&quot;</code><br />
</div>
<p><a href="szduel_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a633b5e50e910ac5501c1b6be2fadb831"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_unit.html">Unit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="szduel_8h.html#a633b5e50e910ac5501c1b6be2fadb831">SzDuel_GetCardInfo</a> (int side, int pos)</td></tr>
<tr class="memdesc:a633b5e50e910ac5501c1b6be2fadb831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the unit given by a side and position.  <a href="szduel_8h.html#a633b5e50e910ac5501c1b6be2fadb831">More...</a><br /></td></tr>
<tr class="separator:a633b5e50e910ac5501c1b6be2fadb831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7efa461b2559c1ceb3beff9ff6fc0610"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="szduel_8h.html#a7efa461b2559c1ceb3beff9ff6fc0610">SzDuel_GetField</a> (int col, int row)</td></tr>
<tr class="memdesc:a7efa461b2559c1ceb3beff9ff6fc0610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the terrain type at a specified position.  <a href="szduel_8h.html#a7efa461b2559c1ceb3beff9ff6fc0610">More...</a><br /></td></tr>
<tr class="separator:a7efa461b2559c1ceb3beff9ff6fc0610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e29496f8be223f943f76eab903b0f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_unit.html">Unit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="szduel_8h.html#a23e29496f8be223f943f76eab903b0f7">SzDuel_GetUnit</a> (int side, int pos)</td></tr>
<tr class="memdesc:a23e29496f8be223f943f76eab903b0f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the unit given by a side and position, but only if the unit is valid.  <a href="szduel_8h.html#a23e29496f8be223f943f76eab903b0f7">More...</a><br /></td></tr>
<tr class="separator:a23e29496f8be223f943f76eab903b0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0533813745caca38dc1b9a8d6e31f139"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="szduel_8h.html#a0533813745caca38dc1b9a8d6e31f139">SzDuel_GetUnitAttr</a> (int side, int pos)</td></tr>
<tr class="memdesc:a0533813745caca38dc1b9a8d6e31f139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the attribute of the unit specified by a side and position.  <a href="szduel_8h.html#a0533813745caca38dc1b9a8d6e31f139">More...</a><br /></td></tr>
<tr class="separator:a0533813745caca38dc1b9a8d6e31f139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9173487b0780206b768bae53d3b61db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="szduel_8h.html#ac9173487b0780206b768bae53d3b61db">SzDuel_GetUnitKind</a> (int side, int pos)</td></tr>
<tr class="memdesc:ac9173487b0780206b768bae53d3b61db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the kind of the unit specified by a side and position.  <a href="szduel_8h.html#ac9173487b0780206b768bae53d3b61db">More...</a><br /></td></tr>
<tr class="separator:ac9173487b0780206b768bae53d3b61db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19af2b37525fed25189a38c96bd18744"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="szduel_8h.html#a19af2b37525fed25189a38c96bd18744">SzDuel_GetUnitLoc</a> (int side, int pos)</td></tr>
<tr class="memdesc:a19af2b37525fed25189a38c96bd18744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the location of the unit specified by a side and position.  <a href="szduel_8h.html#a19af2b37525fed25189a38c96bd18744">More...</a><br /></td></tr>
<tr class="separator:a19af2b37525fed25189a38c96bd18744"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7b24d0ad4cb678df0833baa98964e3ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_unit.html">Unit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="szduel_8h.html#a7b24d0ad4cb678df0833baa98964e3ca">units</a> [3][11]</td></tr>
<tr class="memdesc:a7b24d0ad4cb678df0833baa98964e3ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address 318280.  <a href="szduel_8h.html#a7b24d0ad4cb678df0833baa98964e3ca">More...</a><br /></td></tr>
<tr class="separator:a7b24d0ad4cb678df0833baa98964e3ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6efa6cd7ac6a97eb9d0412a07c2e7b79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_map_info.html">MapInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="szduel_8h.html#a6efa6cd7ac6a97eb9d0412a07c2e7b79">mapInfo</a> [7][7]</td></tr>
<tr class="memdesc:a6efa6cd7ac6a97eb9d0412a07c2e7b79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address 318E60.  <a href="szduel_8h.html#a6efa6cd7ac6a97eb9d0412a07c2e7b79">More...</a><br /></td></tr>
<tr class="separator:a6efa6cd7ac6a97eb9d0412a07c2e7b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a633b5e50e910ac5501c1b6be2fadb831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633b5e50e910ac5501c1b6be2fadb831">&#9670;&nbsp;</a></span>SzDuel_GetCardInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_unit.html">Unit</a>* SzDuel_GetCardInfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the unit given by a side and position. </p>
<p>If side is negative, pos is instead interpreted as an index into models and the type is retrieved with SzModel_GetModelType. The returned type is then converted into a standard side/pos combination as follows:</p><ul>
<li>If the type is 4, side is Lancastrians if pos is &lt;= 24 and Yorkists if pos <blockquote class="doxtable">
<p>24, and pos becomes old pos % 5 + 1 </p>
</blockquote>
</li>
<li>If the type is 5, side is pos - 30 and pos becomes 0</li>
<li>Any other type results in this function returning NULL.</li>
</ul>
<p>After this potential conversion, a side that isn't 0, 1, or 2 or a pos that isn't between 0 and 10 inclusive is rejected and the function returns NULL. In the happy case, the function returns the address of units[side][pos].</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">side</td><td>The side (Lancastrian/Yorkist/???) to get the unit from, or negative if pos is an index into models </td></tr>
    <tr><td class="paramname">pos</td><td>The index into the subarray of side's units, or into models if side is negative </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the requested <a class="el" href="struct_unit.html">Unit</a> </dd></dl>

</div>
</div>
<a id="a7efa461b2559c1ceb3beff9ff6fc0610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7efa461b2559c1ceb3beff9ff6fc0610">&#9670;&nbsp;</a></span>SzDuel_GetField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SzDuel_GetField </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the terrain type at a specified position. </p>
<p>The returned value should be interpreted as a member of the Field enum. If row and col do not lie between 0 and 6 inclusive, this function returns -1 instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">col</td><td>Column of the desired location. </td></tr>
    <tr><td class="paramname">row</td><td>Row of the desired location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Terrain type of the corresponding square. </dd></dl>

</div>
</div>
<a id="a23e29496f8be223f943f76eab903b0f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23e29496f8be223f943f76eab903b0f7">&#9670;&nbsp;</a></span>SzDuel_GetUnit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_unit.html">Unit</a>* SzDuel_GetUnit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the unit given by a side and position, but only if the unit is valid. </p>
<p>This function is almost the same as SzDuel_GetCardInfo, but after calling that this function checks the returned value. If the value is NULL or if the slot of the result is greater than 10, this function returns NULL, otherwise it returns the normal value. I speculate the check on slot is to make this function only return units that are currently actually on the field, and perhaps a just destroyed unit remains in the array until overwritten.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">side</td><td>The side (Lancastrian/Yorkist/???) to get the unit from, or negative if pos is an index into models </td></tr>
    <tr><td class="paramname">pos</td><td>The index into the subarray of side's units, or into models if side is negative </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the requested <a class="el" href="struct_unit.html">Unit</a> </dd></dl>

</div>
</div>
<a id="a0533813745caca38dc1b9a8d6e31f139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0533813745caca38dc1b9a8d6e31f139">&#9670;&nbsp;</a></span>SzDuel_GetUnitAttr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SzDuel_GetUnitAttr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the attribute of the unit specified by a side and position. </p>
<p>The return value should be interpreted as a member of the Attribute enum. If there is no unit given by (side, pos), then instead -1 is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">side</td><td>The side (Lancastrian/Yorkist/???) to get the unit from, or negative if pos is an index into models </td></tr>
    <tr><td class="paramname">pos</td><td>The index into the subarray of side's units, or into models if side is negative </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The attribute of the specified <a class="el" href="struct_unit.html">Unit</a> </dd></dl>

</div>
</div>
<a id="ac9173487b0780206b768bae53d3b61db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9173487b0780206b768bae53d3b61db">&#9670;&nbsp;</a></span>SzDuel_GetUnitKind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SzDuel_GetUnitKind </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the kind of the unit specified by a side and position. </p>
<p>The return value should be interpreted as a member of the Kind enum. If there is no unit given by (side, pos), then instead -1 is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">side</td><td>The side (Lancastrian/Yorkist/???) to get the unit from, or negative if pos is an index into models </td></tr>
    <tr><td class="paramname">pos</td><td>The index into the subarray of side's units, or into models if side is negative </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The kind of the specified <a class="el" href="struct_unit.html">Unit</a> </dd></dl>

</div>
</div>
<a id="a19af2b37525fed25189a38c96bd18744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19af2b37525fed25189a38c96bd18744">&#9670;&nbsp;</a></span>SzDuel_GetUnitLoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SzDuel_GetUnitLoc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the location of the unit specified by a side and position. </p>
<p>This function returns the position in the form of (row &lt;&lt; 8) | col. If there is no unit given by (side, pos), then instead -1 is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">side</td><td>The side (Lancastrian/Yorkist/???) to get the unit from, or negative if pos is an index into models </td></tr>
    <tr><td class="paramname">pos</td><td>The index into the subarray of side's units, or into models if side is negative </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The position of the specified <a class="el" href="struct_unit.html">Unit</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6efa6cd7ac6a97eb9d0412a07c2e7b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6efa6cd7ac6a97eb9d0412a07c2e7b79">&#9670;&nbsp;</a></span>mapInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_map_info.html">MapInfo</a> mapInfo[7][7]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Address 318E60. </p>
<p>Array of <a class="el" href="struct_map_info.html">MapInfo</a> for every square on the 7 x 7 board. The indices are given by row and column, so the square at a particular row and column is mapInfo[row][col]. </p>

</div>
</div>
<a id="a7b24d0ad4cb678df0833baa98964e3ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b24d0ad4cb678df0833baa98964e3ca">&#9670;&nbsp;</a></span>units</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_unit.html">Unit</a> units[3][11]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Address 318280. </p>
<p>Three arrays of units. The first array of 11 represents the Lancastrian units (DL, then 5 monsters, then 5 non-monsters). The next array of 11 represents the Yorkist units. The purpose of the last array of 11 is unknown. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
